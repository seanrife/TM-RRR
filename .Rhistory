# For descriptive stats table
PRIMARY_DV1_descriptives$mean_exp[PRIMARY_DV1_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV1_m_exp, digits=3)
PRIMARY_DV1_descriptives$sd_exp[PRIMARY_DV1_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV1_sd_exp, digits=3)
PRIMARY_DV1_descriptives$mean_ctrl[PRIMARY_DV1_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV1_m_ctrl, digits=3)
PRIMARY_DV1_descriptives$sd_ctrl[PRIMARY_DV1_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV1_sd_ctrl, digits=3)
PRIMARY_DV1_metaVecR <- c(PRIMARY_DV1_metaVecR, PRIMARY_DV1_r$estimate)
PRIMARY_DV1_metaVecN <- c(PRIMARY_DV1_metaVecN, (PRIMARY_DV1_r$parameter + 2))
PRIMARY_DV1_metaVecES <- c(PRIMARY_DV1_metaVecES, (PRIMARY_DV1_m_exp-PRIMARY_DV1_m_ctrl))
PRIMARY_DV1_metaVecSE <- c(PRIMARY_DV1_metaVecSE, PRIMARY_DV1_se)
PRIMARY_DV1_metaVecMeanExp <- c(PRIMARY_DV1_metaVecMeanExp, PRIMARY_DV1_m_exp)
PRIMARY_DV1_metaVecMeanCtrl <- c(PRIMARY_DV1_metaVecMeanCtrl, PRIMARY_DV1_m_ctrl)
# Calculate tests/stats for primary analysis
PRIMARY_DV2_m_exp <- mean(df$COUNT_DV2[df$originalExperiment==1])
PRIMARY_DV2_sd_exp <- sd(df$COUNT_DV2[df$originalExperiment==1])
PRIMARY_DV2_m_ctrl <- mean(df$COUNT_DV2[df$originalExperiment==0])
PRIMARY_DV2_sd_ctrl <- sd(df$COUNT_DV2[df$originalExperiment==0])
PRIMARY_DV2_r <- cor.test(df$COUNT_DV2, df$DelayTime)
PRIMARY_DV2_se <- std.error(df$COUNT_DV2)
# For descriptive stats table
PRIMARY_DV2_descriptives$mean_exp[PRIMARY_DV2_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV2_m_exp, digits=3)
PRIMARY_DV2_descriptives$sd_exp[PRIMARY_DV2_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV2_sd_exp, digits=3)
PRIMARY_DV2_descriptives$mean_ctrl[PRIMARY_DV2_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV2_m_ctrl, digits=3)
PRIMARY_DV2_descriptives$sd_ctrl[PRIMARY_DV2_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV2_sd_ctrl, digits=3)
PRIMARY_DV2_metaVecR <- c(PRIMARY_DV2_metaVecR, PRIMARY_DV2_r$estimate)
PRIMARY_DV2_metaVecN <- c(PRIMARY_DV2_metaVecN, (PRIMARY_DV2_r$parameter + 2))
PRIMARY_DV2_metaVecES <- c(PRIMARY_DV2_metaVecES, (PRIMARY_DV2_m_exp-PRIMARY_DV2_m_ctrl))
PRIMARY_DV2_metaVecSE <- c(PRIMARY_DV2_metaVecSE, PRIMARY_DV2_se)
PRIMARY_DV2_metaVecMeanExp <- c(PRIMARY_DV2_metaVecMeanExp, PRIMARY_DV2_m_exp)
PRIMARY_DV2_metaVecMeanCtrl <- c(PRIMARY_DV2_metaVecMeanCtrl, PRIMARY_DV2_m_ctrl)
# Calculate tests/stats for secondary analysis
# Many of these will be identical to primary analyses,
# but calculating for the sake of clarity
SECONDARY_DV1_m_exp <- mean(df$COUNT_DV1[df$secondaryAnalysis==1])
SECONDARY_DV1_sd_exp <- sd(df$COUNT_DV1[df$secondaryAnalysis==1])
SECONDARY_DV1_m_ctrl <- mean(df$COUNT_DV1[df$secondaryAnalysis==0])
SECONDARY_DV1_sd_ctrl <- sd(df$COUNT_DV1[df$secondaryAnalysis==0])
SECONDARY_DV1_n_exp <- length(df$COUNT_DV1[df$secondaryAnalysis==1])
SECONDARY_DV1_n_ctrl <- length(df$COUNT_DV1[df$secondaryAnalysis==0])
SECONDARY_DV1_d <- cohen.d(df$COUNT_DV1, as.factor(df$secondaryAnalysis))$estimate
SECONDARY_DV1_d_CI_UPPER <- cohen.d(df$COUNT_DV1, as.factor(df$secondaryAnalysis))$conf.int[2]
SECONDARY_DV1_d_CI_LOWER <- cohen.d(df$COUNT_DV1, as.factor(df$secondaryAnalysis))$conf.int[1]
SECONDARY_DV1_se <- std.error(df$COUNT_DV1)
# For descriptive stats table
SECONDARY_descriptives_DV1$mean_exp[SECONDARY_descriptives_DV1$labID == as.factor(lab)] <- format(SECONDARY_m_exp_DV1, digits=3)
SECONDARY_descriptives_DV1$sd_exp[SECONDARY_descriptives_DV1$labID == as.factor(lab)] <- format(SECONDARY_sd_exp_DV1, digits=3)
SECONDARY_descriptives_DV1$mean_ctrl[SECONDARY_descriptives_DV1$labID == as.factor(lab)] <- format(SECONDARY_m_ctrl_DV1, digits=3)
SECONDARY_descriptives_DV1$sd_ctrl[SECONDARY_descriptives_DV1$labID == as.factor(lab)] <- format(SECONDARY_sd_ctrl_DV1, digits=3)
SECONDARY_metaVecES_DV1 <- c(SECONDARY_metaVecES_DV1, (SECONDARY_d_DV1))
SECONDARY_metaVecSE_DV1 <- c(SECONDARY_metaVecSE_DV1, SECONDARY_se_DV1)
SECONDARY_metaVecMeanExp_DV1 <- c(SECONDARY_metaVecMeanExp_DV1, SECONDARY_m_exp_DV1)
SECONDARY_metaVecMeanCtrl_DV1 <- c(SECONDARY_metaVecMeanCtrl_DV1, SECONDARY_m_ctrl_DV1)
SECONDARY_DV2_m_exp <- mean(df$COUNT_DV2[df$secondaryAnalysis==1])
SECONDARY_DV2_sd_exp <- sd(df$COUNT_DV2[df$secondaryAnalysis==1])
SECONDARY_DV2_m_ctrl <- mean(df$COUNT_DV2[df$secondaryAnalysis==0])
SECONDARY_DV2_sd_ctrl <- sd(df$COUNT_DV2[df$secondaryAnalysis==0])
SECONDARY_DV2_n_exp <- length(df$COUNT_DV2[df$secondaryAnalysis==1])
SECONDARY_DV2_n_ctrl <- length(df$COUNT_DV2[df$secondaryAnalysis==0])
SECONDARY_DV2_d <- cohen.d(df$COUNT_DV2, as.factor(df$secondaryAnalysis))$estimate
SECONDARY_DV2_d_CI_UPPER <- cohen.d(df$COUNT_DV2, as.factor(df$secondaryAnalysis))$conf.int[2]
SECONDARY_DV2_d_CI_LOWER <- cohen.d(df$COUNT_DV2, as.factor(df$secondaryAnalysis))$conf.int[1]
SECONDARY_DV2_se <- std.error(df$COUNT_DV2)
# For descriptive stats table
SECONDARY_descriptives_DV2$mean_exp[SECONDARY_descriptives_DV2$labID == as.factor(lab)] <- format(SECONDARY_m_exp_DV2, digits=3)
SECONDARY_descriptives_DV2$sd_exp[SECONDARY_descriptives_DV2$labID == as.factor(lab)] <- format(SECONDARY_sd_exp_DV2, digits=3)
SECONDARY_descriptives_DV2$mean_ctrl[SECONDARY_descriptives_DV2$labID == as.factor(lab)] <- format(SECONDARY_m_ctrl_DV2, digits=3)
SECONDARY_descriptives_DV2$sd_ctrl[SECONDARY_descriptives_DV2$labID == as.factor(lab)] <- format(SECONDARY_sd_ctrl_DV2, digits=3)
SECONDARY_metaVecES_DV2 <- c(SECONDARY_metaVecES_DV2, (SECONDARY_d_DV2))
SECONDARY_metaVecSE_DV2 <- c(SECONDARY_metaVecSE_DV2, SECONDARY_se_DV2)
SECONDARY_metaVecMeanExp_DV2 <- c(SECONDARY_metaVecMeanExp_DV2, SECONDARY_DV2_m_exp)
SECONDARY_metaVecMeanCtrl_DV2 <- c(SECONDARY_metaVecMeanCtrl_DV2, SECONDARY_DV2_m_ctrl)
}
for (lab in labNames) {
workingLabPathMain <- paste0(dataDir,"\\",lab,"_main.csv")
workingLabPathRating_DV1 <- paste0(dataDir,"\\",lab,"_DV1_rating.csv")
workingLabPathRating_DV2 <- paste0(dataDir,"\\",lab,"_DV2_rating.csv")
workingLabPathExclude <- paste0(dataDir,"\\",lab,"_exclude.csv")
df_main <- readInFile(workingLabPathMain)
df_rating_DV1 <- read.csv(workingLabPathRating_DV1)
df_rating_DV2 <- read.csv(workingLabPathRating_DV2)
df_exclude <- read.csv(workingLabPathExclude)
df <- merge(df_main,df_rating_DV1,by=c("id","labID"))
df <- merge(df,df_rating_DV2,by=c("id","labID"))
df <- merge(df,df_exclude,by=c("id","labID"))
# Put N info into labInfo DF
labInfo$N[labInfo$labID == as.factor(lab)] <- nrow(df)
# Exclude flagged cases or those who failed exit interview
df <- df[df$FLAG==0,]
df <- df[df$Understand==1,]
df <- df[df$Familiar==0,]
## ADD REMOVAL BASED ON TIME HERE ##
# Exclude if participant took less than 3 minutes to complete the survey
# Put N info into labInfo DF (with exclusions)
labInfo$Nused[labInfo$labID == as.factor(lab)] <- nrow(df)
# Put % female intoLabInfo DF
TotalWithGender <- table(df$Gender)[names(table(df$Gender))==2] + table(df$Gender)[names(table(df$Gender))==1]
labInfo$percFemale[labInfo$labID == as.factor(lab)] <- format(100*(table(df$Gender)[names(table(df$Gender))==2]/TotalWithGender), digits=3)
# Get mean and SD of age
labInfo$ageMean[labInfo$labID == as.factor(lab)] <- format(mean(df$Age), digits=3)
labInfo$ageSD[labInfo$labID == as.factor(lab)] <- format(sd(df$Age), digits=3)
# Create group identifiers for original experiment
df$originalExperiment <- 0
df$originalExperiment[df$essayGroup==1 & df$delayGroup==1] <- 1
# Create group identifiers for secondary analysis
df$secondaryAnalysis <- 0
df$secondaryAnalysis[df$essayGroup==1] <- 1
# Add to merged dataframe
mergedDF <- rbind(mergedDF, df)
## ANALYSES ##
# Using the following variable naming scheme:
# PRIMARY_DV1 - primary analysis (exact replication of T&H)
# PRIMARY_DV2 - primary analysis using alternate DV
# SECONDARY_ - additional analysis not related directly to T&H
# Calculate tests/stats for primary analysis
PRIMARY_DV1_m_exp <- mean(df$COUNT_DV1[df$originalExperiment==1])
PRIMARY_DV1_sd_exp <- sd(df$COUNT_DV1[df$originalExperiment==1])
PRIMARY_DV1_m_ctrl <- mean(df$COUNT_DV1[df$originalExperiment==0])
PRIMARY_DV1_sd_ctrl <- sd(df$COUNT_DV1[df$originalExperiment==0])
PRIMARY_DV1_r <- cor.test(df$COUNT_DV1, df$DelayTime)
PRIMARY_DV1_se <- std.error(df$COUNT_DV1)
# For descriptive stats table
PRIMARY_DV1_descriptives$mean_exp[PRIMARY_DV1_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV1_m_exp, digits=3)
PRIMARY_DV1_descriptives$sd_exp[PRIMARY_DV1_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV1_sd_exp, digits=3)
PRIMARY_DV1_descriptives$mean_ctrl[PRIMARY_DV1_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV1_m_ctrl, digits=3)
PRIMARY_DV1_descriptives$sd_ctrl[PRIMARY_DV1_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV1_sd_ctrl, digits=3)
PRIMARY_DV1_metaVecR <- c(PRIMARY_DV1_metaVecR, PRIMARY_DV1_r$estimate)
PRIMARY_DV1_metaVecN <- c(PRIMARY_DV1_metaVecN, (PRIMARY_DV1_r$parameter + 2))
PRIMARY_DV1_metaVecES <- c(PRIMARY_DV1_metaVecES, (PRIMARY_DV1_m_exp-PRIMARY_DV1_m_ctrl))
PRIMARY_DV1_metaVecSE <- c(PRIMARY_DV1_metaVecSE, PRIMARY_DV1_se)
PRIMARY_DV1_metaVecMeanExp <- c(PRIMARY_DV1_metaVecMeanExp, PRIMARY_DV1_m_exp)
PRIMARY_DV1_metaVecMeanCtrl <- c(PRIMARY_DV1_metaVecMeanCtrl, PRIMARY_DV1_m_ctrl)
# Calculate tests/stats for primary analysis
PRIMARY_DV2_m_exp <- mean(df$COUNT_DV2[df$originalExperiment==1])
PRIMARY_DV2_sd_exp <- sd(df$COUNT_DV2[df$originalExperiment==1])
PRIMARY_DV2_m_ctrl <- mean(df$COUNT_DV2[df$originalExperiment==0])
PRIMARY_DV2_sd_ctrl <- sd(df$COUNT_DV2[df$originalExperiment==0])
PRIMARY_DV2_r <- cor.test(df$COUNT_DV2, df$DelayTime)
PRIMARY_DV2_se <- std.error(df$COUNT_DV2)
# For descriptive stats table
PRIMARY_DV2_descriptives$mean_exp[PRIMARY_DV2_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV2_m_exp, digits=3)
PRIMARY_DV2_descriptives$sd_exp[PRIMARY_DV2_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV2_sd_exp, digits=3)
PRIMARY_DV2_descriptives$mean_ctrl[PRIMARY_DV2_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV2_m_ctrl, digits=3)
PRIMARY_DV2_descriptives$sd_ctrl[PRIMARY_DV2_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV2_sd_ctrl, digits=3)
PRIMARY_DV2_metaVecR <- c(PRIMARY_DV2_metaVecR, PRIMARY_DV2_r$estimate)
PRIMARY_DV2_metaVecN <- c(PRIMARY_DV2_metaVecN, (PRIMARY_DV2_r$parameter + 2))
PRIMARY_DV2_metaVecES <- c(PRIMARY_DV2_metaVecES, (PRIMARY_DV2_m_exp-PRIMARY_DV2_m_ctrl))
PRIMARY_DV2_metaVecSE <- c(PRIMARY_DV2_metaVecSE, PRIMARY_DV2_se)
PRIMARY_DV2_metaVecMeanExp <- c(PRIMARY_DV2_metaVecMeanExp, PRIMARY_DV2_m_exp)
PRIMARY_DV2_metaVecMeanCtrl <- c(PRIMARY_DV2_metaVecMeanCtrl, PRIMARY_DV2_m_ctrl)
# Calculate tests/stats for secondary analysis
# Many of these will be identical to primary analyses,
# but calculating for the sake of clarity
SECONDARY_DV1_m_exp <- mean(df$COUNT_DV1[df$secondaryAnalysis==1])
SECONDARY_DV1_sd_exp <- sd(df$COUNT_DV1[df$secondaryAnalysis==1])
SECONDARY_DV1_m_ctrl <- mean(df$COUNT_DV1[df$secondaryAnalysis==0])
SECONDARY_DV1_sd_ctrl <- sd(df$COUNT_DV1[df$secondaryAnalysis==0])
SECONDARY_DV1_n_exp <- length(df$COUNT_DV1[df$secondaryAnalysis==1])
SECONDARY_DV1_n_ctrl <- length(df$COUNT_DV1[df$secondaryAnalysis==0])
SECONDARY_DV1_d <- cohen.d(df$COUNT_DV1, as.factor(df$secondaryAnalysis))$estimate
SECONDARY_DV1_d_CI_UPPER <- cohen.d(df$COUNT_DV1, as.factor(df$secondaryAnalysis))$conf.int[2]
SECONDARY_DV1_d_CI_LOWER <- cohen.d(df$COUNT_DV1, as.factor(df$secondaryAnalysis))$conf.int[1]
SECONDARY_DV1_se <- std.error(df$COUNT_DV1)
# For descriptive stats table
SECONDARY_descriptives_DV1$mean_exp[SECONDARY_descriptives_DV1$labID == as.factor(lab)] <- format(SECONDARY_m_exp_DV1, digits=3)
SECONDARY_descriptives_DV1$sd_exp[SECONDARY_descriptives_DV1$labID == as.factor(lab)] <- format(SECONDARY_sd_exp_DV1, digits=3)
SECONDARY_descriptives_DV1$mean_ctrl[SECONDARY_descriptives_DV1$labID == as.factor(lab)] <- format(SECONDARY_m_ctrl_DV1, digits=3)
SECONDARY_descriptives_DV1$sd_ctrl[SECONDARY_descriptives_DV1$labID == as.factor(lab)] <- format(SECONDARY_sd_ctrl_DV1, digits=3)
SECONDARY_metaVecES_DV1 <- c(SECONDARY_metaVecES_DV1, (SECONDARY_d_DV1))
SECONDARY_metaVecSE_DV1 <- c(SECONDARY_metaVecSE_DV1, SECONDARY_se_DV1)
SECONDARY_metaVecMeanExp_DV1 <- c(SECONDARY_metaVecMeanExp_DV1, SECONDARY_m_exp_DV1)
SECONDARY_metaVecMeanCtrl_DV1 <- c(SECONDARY_metaVecMeanCtrl_DV1, SECONDARY_m_ctrl_DV1)
SECONDARY_DV2_m_exp <- mean(df$COUNT_DV2[df$secondaryAnalysis==1])
SECONDARY_DV2_sd_exp <- sd(df$COUNT_DV2[df$secondaryAnalysis==1])
SECONDARY_DV2_m_ctrl <- mean(df$COUNT_DV2[df$secondaryAnalysis==0])
SECONDARY_DV2_sd_ctrl <- sd(df$COUNT_DV2[df$secondaryAnalysis==0])
SECONDARY_DV2_n_exp <- length(df$COUNT_DV2[df$secondaryAnalysis==1])
SECONDARY_DV2_n_ctrl <- length(df$COUNT_DV2[df$secondaryAnalysis==0])
SECONDARY_DV2_d <- cohen.d(df$COUNT_DV2, as.factor(df$secondaryAnalysis))$estimate
SECONDARY_DV2_d_CI_UPPER <- cohen.d(df$COUNT_DV2, as.factor(df$secondaryAnalysis))$conf.int[2]
SECONDARY_DV2_d_CI_LOWER <- cohen.d(df$COUNT_DV2, as.factor(df$secondaryAnalysis))$conf.int[1]
SECONDARY_DV2_se <- std.error(df$COUNT_DV2)
# For descriptive stats table
SECONDARY_descriptives_DV2$mean_exp[SECONDARY_descriptives_DV2$labID == as.factor(lab)] <- format(SECONDARY_m_exp_DV2, digits=3)
SECONDARY_descriptives_DV2$sd_exp[SECONDARY_descriptives_DV2$labID == as.factor(lab)] <- format(SECONDARY_sd_exp_DV2, digits=3)
SECONDARY_descriptives_DV2$mean_ctrl[SECONDARY_descriptives_DV2$labID == as.factor(lab)] <- format(SECONDARY_m_ctrl_DV2, digits=3)
SECONDARY_descriptives_DV2$sd_ctrl[SECONDARY_descriptives_DV2$labID == as.factor(lab)] <- format(SECONDARY_sd_ctrl_DV2, digits=3)
SECONDARY_metaVecES_DV2 <- c(SECONDARY_metaVecES_DV2, (SECONDARY_d_DV2))
SECONDARY_metaVecSE_DV2 <- c(SECONDARY_metaVecSE_DV2, SECONDARY_se_DV2)
SECONDARY_metaVecMeanExp_DV2 <- c(SECONDARY_metaVecMeanExp_DV2, SECONDARY_DV2_m_exp)
SECONDARY_metaVecMeanCtrl_DV2 <- c(SECONDARY_metaVecMeanCtrl_DV2, SECONDARY_DV2_m_ctrl)
}
for (lab in labNames) {
workingLabPathMain <- paste0(dataDir,"\\",lab,"_main.csv")
workingLabPathRating_DV1 <- paste0(dataDir,"\\",lab,"_DV1_rating.csv")
workingLabPathRating_DV2 <- paste0(dataDir,"\\",lab,"_DV2_rating.csv")
workingLabPathExclude <- paste0(dataDir,"\\",lab,"_exclude.csv")
df_main <- readInFile(workingLabPathMain)
df_rating_DV1 <- read.csv(workingLabPathRating_DV1)
df_rating_DV2 <- read.csv(workingLabPathRating_DV2)
df_exclude <- read.csv(workingLabPathExclude)
df <- merge(df_main,df_rating_DV1,by=c("id","labID"))
df <- merge(df,df_rating_DV2,by=c("id","labID"))
df <- merge(df,df_exclude,by=c("id","labID"))
# Put N info into labInfo DF
labInfo$N[labInfo$labID == as.factor(lab)] <- nrow(df)
# Exclude flagged cases or those who failed exit interview
df <- df[df$FLAG==0,]
df <- df[df$Understand==1,]
df <- df[df$Familiar==0,]
## ADD REMOVAL BASED ON TIME HERE ##
# Exclude if participant took less than 3 minutes to complete the survey
# Put N info into labInfo DF (with exclusions)
labInfo$Nused[labInfo$labID == as.factor(lab)] <- nrow(df)
# Put % female intoLabInfo DF
TotalWithGender <- table(df$Gender)[names(table(df$Gender))==2] + table(df$Gender)[names(table(df$Gender))==1]
labInfo$percFemale[labInfo$labID == as.factor(lab)] <- format(100*(table(df$Gender)[names(table(df$Gender))==2]/TotalWithGender), digits=3)
# Get mean and SD of age
labInfo$ageMean[labInfo$labID == as.factor(lab)] <- format(mean(df$Age), digits=3)
labInfo$ageSD[labInfo$labID == as.factor(lab)] <- format(sd(df$Age), digits=3)
# Create group identifiers for original experiment
df$originalExperiment <- 0
df$originalExperiment[df$essayGroup==1 & df$delayGroup==1] <- 1
# Create group identifiers for secondary analysis
df$secondaryAnalysis <- 0
df$secondaryAnalysis[df$essayGroup==1] <- 1
# Add to merged dataframe
mergedDF <- rbind(mergedDF, df)
## ANALYSES ##
# Using the following variable naming scheme:
# PRIMARY_DV1 - primary analysis (exact replication of T&H)
# PRIMARY_DV2 - primary analysis using alternate DV
# SECONDARY_ - additional analysis not related directly to T&H
# Calculate tests/stats for primary analysis
PRIMARY_DV1_m_exp <- mean(df$COUNT_DV1[df$originalExperiment==1])
PRIMARY_DV1_sd_exp <- sd(df$COUNT_DV1[df$originalExperiment==1])
PRIMARY_DV1_m_ctrl <- mean(df$COUNT_DV1[df$originalExperiment==0])
PRIMARY_DV1_sd_ctrl <- sd(df$COUNT_DV1[df$originalExperiment==0])
PRIMARY_DV1_r <- cor.test(df$COUNT_DV1, df$DelayTime)
PRIMARY_DV1_se <- std.error(df$COUNT_DV1)
# For descriptive stats table
PRIMARY_DV1_descriptives$mean_exp[PRIMARY_DV1_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV1_m_exp, digits=3)
PRIMARY_DV1_descriptives$sd_exp[PRIMARY_DV1_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV1_sd_exp, digits=3)
PRIMARY_DV1_descriptives$mean_ctrl[PRIMARY_DV1_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV1_m_ctrl, digits=3)
PRIMARY_DV1_descriptives$sd_ctrl[PRIMARY_DV1_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV1_sd_ctrl, digits=3)
PRIMARY_DV1_metaVecR <- c(PRIMARY_DV1_metaVecR, PRIMARY_DV1_r$estimate)
PRIMARY_DV1_metaVecN <- c(PRIMARY_DV1_metaVecN, (PRIMARY_DV1_r$parameter + 2))
PRIMARY_DV1_metaVecES <- c(PRIMARY_DV1_metaVecES, (PRIMARY_DV1_m_exp-PRIMARY_DV1_m_ctrl))
PRIMARY_DV1_metaVecSE <- c(PRIMARY_DV1_metaVecSE, PRIMARY_DV1_se)
PRIMARY_DV1_metaVecMeanExp <- c(PRIMARY_DV1_metaVecMeanExp, PRIMARY_DV1_m_exp)
PRIMARY_DV1_metaVecMeanCtrl <- c(PRIMARY_DV1_metaVecMeanCtrl, PRIMARY_DV1_m_ctrl)
# Calculate tests/stats for primary analysis
PRIMARY_DV2_m_exp <- mean(df$COUNT_DV2[df$originalExperiment==1])
PRIMARY_DV2_sd_exp <- sd(df$COUNT_DV2[df$originalExperiment==1])
PRIMARY_DV2_m_ctrl <- mean(df$COUNT_DV2[df$originalExperiment==0])
PRIMARY_DV2_sd_ctrl <- sd(df$COUNT_DV2[df$originalExperiment==0])
PRIMARY_DV2_r <- cor.test(df$COUNT_DV2, df$DelayTime)
PRIMARY_DV2_se <- std.error(df$COUNT_DV2)
# For descriptive stats table
PRIMARY_DV2_descriptives$mean_exp[PRIMARY_DV2_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV2_m_exp, digits=3)
PRIMARY_DV2_descriptives$sd_exp[PRIMARY_DV2_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV2_sd_exp, digits=3)
PRIMARY_DV2_descriptives$mean_ctrl[PRIMARY_DV2_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV2_m_ctrl, digits=3)
PRIMARY_DV2_descriptives$sd_ctrl[PRIMARY_DV2_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV2_sd_ctrl, digits=3)
PRIMARY_DV2_metaVecR <- c(PRIMARY_DV2_metaVecR, PRIMARY_DV2_r$estimate)
PRIMARY_DV2_metaVecN <- c(PRIMARY_DV2_metaVecN, (PRIMARY_DV2_r$parameter + 2))
PRIMARY_DV2_metaVecES <- c(PRIMARY_DV2_metaVecES, (PRIMARY_DV2_m_exp-PRIMARY_DV2_m_ctrl))
PRIMARY_DV2_metaVecSE <- c(PRIMARY_DV2_metaVecSE, PRIMARY_DV2_se)
PRIMARY_DV2_metaVecMeanExp <- c(PRIMARY_DV2_metaVecMeanExp, PRIMARY_DV2_m_exp)
PRIMARY_DV2_metaVecMeanCtrl <- c(PRIMARY_DV2_metaVecMeanCtrl, PRIMARY_DV2_m_ctrl)
# Calculate tests/stats for secondary analysis
# Many of these will be identical to primary analyses,
# but calculating for the sake of clarity
SECONDARY_DV1_m_exp <- mean(df$COUNT_DV1[df$secondaryAnalysis==1])
SECONDARY_DV1_sd_exp <- sd(df$COUNT_DV1[df$secondaryAnalysis==1])
SECONDARY_DV1_m_ctrl <- mean(df$COUNT_DV1[df$secondaryAnalysis==0])
SECONDARY_DV1_sd_ctrl <- sd(df$COUNT_DV1[df$secondaryAnalysis==0])
SECONDARY_DV1_n_exp <- length(df$COUNT_DV1[df$secondaryAnalysis==1])
SECONDARY_DV1_n_ctrl <- length(df$COUNT_DV1[df$secondaryAnalysis==0])
SECONDARY_DV1_d <- cohen.d(df$COUNT_DV1, as.factor(df$secondaryAnalysis))$estimate
SECONDARY_DV1_d_CI_UPPER <- cohen.d(df$COUNT_DV1, as.factor(df$secondaryAnalysis))$conf.int[2]
SECONDARY_DV1_d_CI_LOWER <- cohen.d(df$COUNT_DV1, as.factor(df$secondaryAnalysis))$conf.int[1]
SECONDARY_DV1_se <- std.error(df$COUNT_DV1)
# For descriptive stats table
SECONDARY_descriptives_DV1$mean_exp[SECONDARY_descriptives_DV1$labID == as.factor(lab)] <- format(SECONDARY_m_exp_DV1, digits=3)
SECONDARY_descriptives_DV1$sd_exp[SECONDARY_descriptives_DV1$labID == as.factor(lab)] <- format(SECONDARY_sd_exp_DV1, digits=3)
SECONDARY_descriptives_DV1$mean_ctrl[SECONDARY_descriptives_DV1$labID == as.factor(lab)] <- format(SECONDARY_m_ctrl_DV1, digits=3)
SECONDARY_descriptives_DV1$sd_ctrl[SECONDARY_descriptives_DV1$labID == as.factor(lab)] <- format(SECONDARY_sd_ctrl_DV1, digits=3)
SECONDARY_metaVecES_DV1 <- c(SECONDARY_metaVecES_DV1, (SECONDARY_d_DV1))
SECONDARY_metaVecSE_DV1 <- c(SECONDARY_metaVecSE_DV1, SECONDARY_se_DV1)
SECONDARY_metaVecMeanExp_DV1 <- c(SECONDARY_metaVecMeanExp_DV1, SECONDARY_DV1_m_exp)
SECONDARY_metaVecMeanCtrl_DV1 <- c(SECONDARY_metaVecMeanCtrl_DV1, SECONDARY_DV1_m_ctrl)
SECONDARY_DV2_m_exp <- mean(df$COUNT_DV2[df$secondaryAnalysis==1])
SECONDARY_DV2_sd_exp <- sd(df$COUNT_DV2[df$secondaryAnalysis==1])
SECONDARY_DV2_m_ctrl <- mean(df$COUNT_DV2[df$secondaryAnalysis==0])
SECONDARY_DV2_sd_ctrl <- sd(df$COUNT_DV2[df$secondaryAnalysis==0])
SECONDARY_DV2_n_exp <- length(df$COUNT_DV2[df$secondaryAnalysis==1])
SECONDARY_DV2_n_ctrl <- length(df$COUNT_DV2[df$secondaryAnalysis==0])
SECONDARY_DV2_d <- cohen.d(df$COUNT_DV2, as.factor(df$secondaryAnalysis))$estimate
SECONDARY_DV2_d_CI_UPPER <- cohen.d(df$COUNT_DV2, as.factor(df$secondaryAnalysis))$conf.int[2]
SECONDARY_DV2_d_CI_LOWER <- cohen.d(df$COUNT_DV2, as.factor(df$secondaryAnalysis))$conf.int[1]
SECONDARY_DV2_se <- std.error(df$COUNT_DV2)
# For descriptive stats table
SECONDARY_descriptives_DV2$mean_exp[SECONDARY_descriptives_DV2$labID == as.factor(lab)] <- format(SECONDARY_m_exp_DV2, digits=3)
SECONDARY_descriptives_DV2$sd_exp[SECONDARY_descriptives_DV2$labID == as.factor(lab)] <- format(SECONDARY_sd_exp_DV2, digits=3)
SECONDARY_descriptives_DV2$mean_ctrl[SECONDARY_descriptives_DV2$labID == as.factor(lab)] <- format(SECONDARY_m_ctrl_DV2, digits=3)
SECONDARY_descriptives_DV2$sd_ctrl[SECONDARY_descriptives_DV2$labID == as.factor(lab)] <- format(SECONDARY_sd_ctrl_DV2, digits=3)
SECONDARY_metaVecES_DV2 <- c(SECONDARY_metaVecES_DV2, (SECONDARY_d_DV2))
SECONDARY_metaVecSE_DV2 <- c(SECONDARY_metaVecSE_DV2, SECONDARY_se_DV2)
SECONDARY_metaVecMeanExp_DV2 <- c(SECONDARY_metaVecMeanExp_DV2, SECONDARY_DV2_m_exp)
SECONDARY_metaVecMeanCtrl_DV2 <- c(SECONDARY_metaVecMeanCtrl_DV2, SECONDARY_DV2_m_ctrl)
}
# Clean house
rm(list = ls())
#### USER-DEFINED VARIABLES ####
# Set base directory
# Uses this to look for main datasets, ratings & exclusions
baseDir <- "D:\\Dropbox\\Research\\TM RRR" # DESKTOP
#baseDir <- "C:\\Users\\srife1\\Dropbox\\Research\\TM RRR" # LAPTOP
# Set input directory
# Should contain a summary file for all labs (LabInfo.csv)
# Should also contain 3 files for each lab (with lab name appended to the beginning):
#   1. _main.csv - main dataset
#   2. _rating.csv - ratings of the words from each lab
#   3. _exclude - manually-identified exclusions
dataDir <- paste0(baseDir, "\\data")
# Location for output (text and graphs)
outDir <- paste0(baseDir, "\\output")
# CODE BELOW NEED NOT BE MODIFIED
################################
#### READ IN AND CLEAN DATA ####
################################
# Load required libraries
if(!require(metafor)){install.packages('metafor')}
library(metafor)
if(!require(yarrr)){install.packages('yarrr')}
library(yarrr)
if(!require(effsize)){install.packages('effsize')}
library(effsize)
if(!require(plotrix)){install.packages('plotrix')}
library(plotrix)
if(!require(ggplot2)){install.packages('ggplot2')}
library(ggplot2)
if(!require(Cairo)){install.packages('Cairo')}
library(Cairo)
mergedDF <- data.frame()
# Read in lab info
labInfo <- read.csv(paste0(dataDir,"\\LabInfo.csv"), stringsAsFactors=FALSE)
# Create dataframes for descriptive tables
PRIMARY_DV1_descriptives <- labInfo
PRIMARY_DV2_descriptives <- labInfo
SECONDARY_DV1_descriptives <- labInfo
SECONDARY_DV2_descriptives <- labInfo
# Lab names; used for reading in data and labeling
labNames <- as.vector(labInfo$labID)
# Initialize containers for output data
PRIMARY_DV1_metaVecES <- vector()
PRIMARY_DV1_metaVecSE <- vector()
PRIMARY_DV1_metaVecMeanExp <- vector()
PRIMARY_DV1_metaVecMeanCtrl <- vector()
PRIMARY_DV1_metaVecR <- vector()
PRIMARY_DV1_metaVecN <- vector()
PRIMARY_DV2_metaVecES <- vector()
PRIMARY_DV2_metaVecSE <- vector()
PRIMARY_DV2_metaVecMeanExp <- vector()
PRIMARY_DV2_metaVecMeanCtrl <- vector()
PRIMARY_DV2_metaVecR <- vector()
PRIMARY_DV2_metaVecN <- vector()
SECONDARY_DV1_metaVecES <- vector()
SECONDARY_DV1_metaVecSE <- vector()
SECONDARY_DV1_metaVecMeanExp <- vector()
SECONDARY_DV1_metaVecMeanCtrl <- vector()
SECONDARY_DV2_metaVecES <- vector()
SECONDARY_DV2_metaVecSE <- vector()
SECONDARY_DV2_metaVecMeanExp <- vector()
SECONDARY_DV2_metaVecMeanCtrl <- vector()
# Function to read in and clean datafiles from each lab
readInFile <- function(filename) {
df <- read.csv(filename, header = T, stringsAsFactors = F, check.names=F)
# LS places problematic characters in variable names. Remove them.
names(df) <- gsub(x = names(df),
pattern = "\\]",
replacement = "")
names(df) <- gsub(x = names(df),
pattern = "\\[",
replacement = "_")
names(df) <- gsub(x = names(df),
pattern = "\\_SQ001",
replacement = "")
# Delete variables we don't need
df <- df[, -c(which(colnames(df)=="DEBRIEFING"):which(colnames(df)=="WTDP2Time"))]
df <- df[, -c(which(colnames(df)=="ARTICLETime"):which(colnames(df)=="DEBRIEFINGTime"))]
# Change the only time variable we care about to something meaningful
colnames(df)[ncol(df)] <- "DelayTime"
return(df)
}
for (lab in labNames) {
workingLabPathMain <- paste0(dataDir,"\\",lab,"_main.csv")
workingLabPathRating_DV1 <- paste0(dataDir,"\\",lab,"_DV1_rating.csv")
workingLabPathRating_DV2 <- paste0(dataDir,"\\",lab,"_DV2_rating.csv")
workingLabPathExclude <- paste0(dataDir,"\\",lab,"_exclude.csv")
df_main <- readInFile(workingLabPathMain)
df_rating_DV1 <- read.csv(workingLabPathRating_DV1)
df_rating_DV2 <- read.csv(workingLabPathRating_DV2)
df_exclude <- read.csv(workingLabPathExclude)
df <- merge(df_main,df_rating_DV1,by=c("id","labID"))
df <- merge(df,df_rating_DV2,by=c("id","labID"))
df <- merge(df,df_exclude,by=c("id","labID"))
# Put N info into labInfo DF
labInfo$N[labInfo$labID == as.factor(lab)] <- nrow(df)
# Exclude flagged cases or those who failed exit interview
df <- df[df$FLAG==0,]
df <- df[df$Understand==1,]
df <- df[df$Familiar==0,]
## ADD REMOVAL BASED ON TIME HERE ##
# Exclude if participant took less than 3 minutes to complete the survey
# Put N info into labInfo DF (with exclusions)
labInfo$Nused[labInfo$labID == as.factor(lab)] <- nrow(df)
# Put % female intoLabInfo DF
TotalWithGender <- table(df$Gender)[names(table(df$Gender))==2] + table(df$Gender)[names(table(df$Gender))==1]
labInfo$percFemale[labInfo$labID == as.factor(lab)] <- format(100*(table(df$Gender)[names(table(df$Gender))==2]/TotalWithGender), digits=3)
# Get mean and SD of age
labInfo$ageMean[labInfo$labID == as.factor(lab)] <- format(mean(df$Age), digits=3)
labInfo$ageSD[labInfo$labID == as.factor(lab)] <- format(sd(df$Age), digits=3)
# Create group identifiers for original experiment
df$originalExperiment <- 0
df$originalExperiment[df$essayGroup==1 & df$delayGroup==1] <- 1
# Create group identifiers for secondary analysis
df$secondaryAnalysis <- 0
df$secondaryAnalysis[df$essayGroup==1] <- 1
# Add to merged dataframe
mergedDF <- rbind(mergedDF, df)
## ANALYSES ##
# Using the following variable naming scheme:
# PRIMARY_DV1 - primary analysis (exact replication of T&H)
# PRIMARY_DV2 - primary analysis using alternate DV
# SECONDARY_ - additional analysis not related directly to T&H
# Calculate tests/stats for primary analysis
PRIMARY_DV1_m_exp <- mean(df$COUNT_DV1[df$originalExperiment==1])
PRIMARY_DV1_sd_exp <- sd(df$COUNT_DV1[df$originalExperiment==1])
PRIMARY_DV1_m_ctrl <- mean(df$COUNT_DV1[df$originalExperiment==0])
PRIMARY_DV1_sd_ctrl <- sd(df$COUNT_DV1[df$originalExperiment==0])
PRIMARY_DV1_r <- cor.test(df$COUNT_DV1, df$DelayTime)
PRIMARY_DV1_se <- std.error(df$COUNT_DV1)
# For descriptive stats table
PRIMARY_DV1_descriptives$mean_exp[PRIMARY_DV1_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV1_m_exp, digits=3)
PRIMARY_DV1_descriptives$sd_exp[PRIMARY_DV1_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV1_sd_exp, digits=3)
PRIMARY_DV1_descriptives$mean_ctrl[PRIMARY_DV1_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV1_m_ctrl, digits=3)
PRIMARY_DV1_descriptives$sd_ctrl[PRIMARY_DV1_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV1_sd_ctrl, digits=3)
PRIMARY_DV1_metaVecR <- c(PRIMARY_DV1_metaVecR, PRIMARY_DV1_r$estimate)
PRIMARY_DV1_metaVecN <- c(PRIMARY_DV1_metaVecN, (PRIMARY_DV1_r$parameter + 2))
PRIMARY_DV1_metaVecES <- c(PRIMARY_DV1_metaVecES, (PRIMARY_DV1_m_exp-PRIMARY_DV1_m_ctrl))
PRIMARY_DV1_metaVecSE <- c(PRIMARY_DV1_metaVecSE, PRIMARY_DV1_se)
PRIMARY_DV1_metaVecMeanExp <- c(PRIMARY_DV1_metaVecMeanExp, PRIMARY_DV1_m_exp)
PRIMARY_DV1_metaVecMeanCtrl <- c(PRIMARY_DV1_metaVecMeanCtrl, PRIMARY_DV1_m_ctrl)
# Calculate tests/stats for primary analysis
PRIMARY_DV2_m_exp <- mean(df$COUNT_DV2[df$originalExperiment==1])
PRIMARY_DV2_sd_exp <- sd(df$COUNT_DV2[df$originalExperiment==1])
PRIMARY_DV2_m_ctrl <- mean(df$COUNT_DV2[df$originalExperiment==0])
PRIMARY_DV2_sd_ctrl <- sd(df$COUNT_DV2[df$originalExperiment==0])
PRIMARY_DV2_r <- cor.test(df$COUNT_DV2, df$DelayTime)
PRIMARY_DV2_se <- std.error(df$COUNT_DV2)
# For descriptive stats table
PRIMARY_DV2_descriptives$mean_exp[PRIMARY_DV2_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV2_m_exp, digits=3)
PRIMARY_DV2_descriptives$sd_exp[PRIMARY_DV2_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV2_sd_exp, digits=3)
PRIMARY_DV2_descriptives$mean_ctrl[PRIMARY_DV2_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV2_m_ctrl, digits=3)
PRIMARY_DV2_descriptives$sd_ctrl[PRIMARY_DV2_descriptives$labID == as.factor(lab)] <- format(PRIMARY_DV2_sd_ctrl, digits=3)
PRIMARY_DV2_metaVecR <- c(PRIMARY_DV2_metaVecR, PRIMARY_DV2_r$estimate)
PRIMARY_DV2_metaVecN <- c(PRIMARY_DV2_metaVecN, (PRIMARY_DV2_r$parameter + 2))
PRIMARY_DV2_metaVecES <- c(PRIMARY_DV2_metaVecES, (PRIMARY_DV2_m_exp-PRIMARY_DV2_m_ctrl))
PRIMARY_DV2_metaVecSE <- c(PRIMARY_DV2_metaVecSE, PRIMARY_DV2_se)
PRIMARY_DV2_metaVecMeanExp <- c(PRIMARY_DV2_metaVecMeanExp, PRIMARY_DV2_m_exp)
PRIMARY_DV2_metaVecMeanCtrl <- c(PRIMARY_DV2_metaVecMeanCtrl, PRIMARY_DV2_m_ctrl)
# Calculate tests/stats for secondary analysis
# Many of these will be identical to primary analyses,
# but calculating for the sake of clarity
SECONDARY_DV1_m_exp <- mean(df$COUNT_DV1[df$secondaryAnalysis==1])
SECONDARY_DV1_sd_exp <- sd(df$COUNT_DV1[df$secondaryAnalysis==1])
SECONDARY_DV1_m_ctrl <- mean(df$COUNT_DV1[df$secondaryAnalysis==0])
SECONDARY_DV1_sd_ctrl <- sd(df$COUNT_DV1[df$secondaryAnalysis==0])
SECONDARY_DV1_n_exp <- length(df$COUNT_DV1[df$secondaryAnalysis==1])
SECONDARY_DV1_n_ctrl <- length(df$COUNT_DV1[df$secondaryAnalysis==0])
SECONDARY_DV1_d <- cohen.d(df$COUNT_DV1, as.factor(df$secondaryAnalysis))$estimate
SECONDARY_DV1_d_CI_UPPER <- cohen.d(df$COUNT_DV1, as.factor(df$secondaryAnalysis))$conf.int[2]
SECONDARY_DV1_d_CI_LOWER <- cohen.d(df$COUNT_DV1, as.factor(df$secondaryAnalysis))$conf.int[1]
SECONDARY_DV1_se <- std.error(df$COUNT_DV1)
# For descriptive stats table
SECONDARY_descriptives_DV1$mean_exp[SECONDARY_descriptives_DV1$labID == as.factor(lab)] <- format(SECONDARY_m_exp_DV1, digits=3)
SECONDARY_descriptives_DV1$sd_exp[SECONDARY_descriptives_DV1$labID == as.factor(lab)] <- format(SECONDARY_sd_exp_DV1, digits=3)
SECONDARY_descriptives_DV1$mean_ctrl[SECONDARY_descriptives_DV1$labID == as.factor(lab)] <- format(SECONDARY_m_ctrl_DV1, digits=3)
SECONDARY_descriptives_DV1$sd_ctrl[SECONDARY_descriptives_DV1$labID == as.factor(lab)] <- format(SECONDARY_sd_ctrl_DV1, digits=3)
SECONDARY_metaVecES_DV1 <- c(SECONDARY_metaVecES_DV1, (SECONDARY_d_DV1))
SECONDARY_metaVecSE_DV1 <- c(SECONDARY_metaVecSE_DV1, SECONDARY_se_DV1)
SECONDARY_metaVecMeanExp_DV1 <- c(SECONDARY_metaVecMeanExp_DV1, SECONDARY_DV1_m_exp)
SECONDARY_metaVecMeanCtrl_DV1 <- c(SECONDARY_metaVecMeanCtrl_DV1, SECONDARY_DV1_m_ctrl)
SECONDARY_DV2_m_exp <- mean(df$COUNT_DV2[df$secondaryAnalysis==1])
SECONDARY_DV2_sd_exp <- sd(df$COUNT_DV2[df$secondaryAnalysis==1])
SECONDARY_DV2_m_ctrl <- mean(df$COUNT_DV2[df$secondaryAnalysis==0])
SECONDARY_DV2_sd_ctrl <- sd(df$COUNT_DV2[df$secondaryAnalysis==0])
SECONDARY_DV2_n_exp <- length(df$COUNT_DV2[df$secondaryAnalysis==1])
SECONDARY_DV2_n_ctrl <- length(df$COUNT_DV2[df$secondaryAnalysis==0])
SECONDARY_DV2_d <- cohen.d(df$COUNT_DV2, as.factor(df$secondaryAnalysis))$estimate
SECONDARY_DV2_d_CI_UPPER <- cohen.d(df$COUNT_DV2, as.factor(df$secondaryAnalysis))$conf.int[2]
SECONDARY_DV2_d_CI_LOWER <- cohen.d(df$COUNT_DV2, as.factor(df$secondaryAnalysis))$conf.int[1]
SECONDARY_DV2_se <- std.error(df$COUNT_DV2)
# For descriptive stats table
SECONDARY_descriptives_DV2$mean_exp[SECONDARY_descriptives_DV2$labID == as.factor(lab)] <- format(SECONDARY_m_exp_DV2, digits=3)
SECONDARY_descriptives_DV2$sd_exp[SECONDARY_descriptives_DV2$labID == as.factor(lab)] <- format(SECONDARY_sd_exp_DV2, digits=3)
SECONDARY_descriptives_DV2$mean_ctrl[SECONDARY_descriptives_DV2$labID == as.factor(lab)] <- format(SECONDARY_m_ctrl_DV2, digits=3)
SECONDARY_descriptives_DV2$sd_ctrl[SECONDARY_descriptives_DV2$labID == as.factor(lab)] <- format(SECONDARY_sd_ctrl_DV2, digits=3)
SECONDARY_metaVecES_DV2 <- c(SECONDARY_metaVecES_DV2, (SECONDARY_d_DV2))
SECONDARY_metaVecSE_DV2 <- c(SECONDARY_metaVecSE_DV2, SECONDARY_se_DV2)
SECONDARY_metaVecMeanExp_DV2 <- c(SECONDARY_metaVecMeanExp_DV2, SECONDARY_DV2_m_exp)
SECONDARY_metaVecMeanCtrl_DV2 <- c(SECONDARY_metaVecMeanCtrl_DV2, SECONDARY_DV2_m_ctrl)
}
